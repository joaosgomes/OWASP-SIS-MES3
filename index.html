<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>CORS</title>
	</head>
	<body>

		<div>
			<a href="./login?isAdmin=1">Admin (isAdmin=1)</a>
			<a href="./login?isAdmin=0">Admin (isAdmin=0)</a>
			<a href="#">.</a>
			<a href="#">.</a>
		  </div>

		<script>
			var host = window.location.host;
			console.log(host);

			fetch('https://owasp-sis-mes3.joao-s-gomes.workers.dev/path/', {
				method: 'POST',
				headers: {
					'Accept': 'application/json',
					'Content-Type': 'application/json',
				},
			})
				.then(response => {
					if (!response.ok) {
						console.error(response.status);
					}

					return response.json();
				})
				.then(json => console.dir(json))
				.catch(err => console.error(err.message));

			
			fetch('https://owasp-sis-mes3.joao-s-gomes.workers.dev/path/')
				.then(response => {
					if (!response.ok) {
						console.error(`HTTP error: ${response.status}`);
					}
					return response.json();
				})
				.then(json => console.dir(json))
				.catch(err => console.error(`Fetch problem: ${err.message}`));

     /*

			function reqListener() {
				console.log(this.responseText);
			}

			const req = new XMLHttpRequest();
			req.addEventListener('load', reqListener);
			req.open('GET', 'http://localhost:8787/path/');
			req.send();

      */
		</script>
	</body>
</html>
